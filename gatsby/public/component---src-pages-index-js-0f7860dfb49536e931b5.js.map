{"version":3,"sources":["webpack:///./src/styles/Grids.js","webpack:///./src/components/ItemGrid.js","webpack:///./src/components/LoadingGrid.js","webpack:///./src/utils/useLatestData.js","webpack:///./src/pages/index.js"],"names":["HomePageGrid","styled","div","ItemsGrid","ItemStyles","ItemGrid","items","map","item","className","name","width","height","src","image","asset","url","alt","style","background","metadata","lqip","backgroundSize","LoadingGrid","count","Array","from","length","_","i","gql","String","raw","deets","CurrentlySlicing","slicemasters","HotSlices","hotSlices","HomePage","useState","setHotSlices","setSlicemasters","useEffect","fetch","process","method","headers","body","JSON","stringify","query","then","res","json","data","StoreSettings","slicemaster","catch","err","console","log","useLatestData"],"mappings":"+KAEaA,EAAeC,IAAOC,IAAV,0EAAGD,CAAH,6EAKZE,EAAYF,IAAOC,IAAV,uEAAGD,CAAH,0DAOTG,EAAaH,IAAOC,IAAV,wEAAGD,CAAH,idCWRI,EAtBE,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACf,kBAACH,EAAD,KACGG,EAAMC,KAAI,SAACC,GAAD,OACT,kBAACJ,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAQD,EAAKE,OAE/B,yBACEC,MAAM,MACNC,OAAO,MACPC,IAAQL,EAAKM,MAAMC,MAAMC,IAAtB,wBACHC,IAAI,eACJC,MAAO,CACLC,WAAW,OAAQX,EAAKM,MAAMC,MAAMK,SAASC,KAAnC,IACVC,eAAgB,iBCdb,SAASC,EAAT,GAAiC,IAAVC,EAAS,EAATA,MACpC,OACE,kBAACrB,EAAD,KACGsB,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC7B,kBAACzB,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAhB,eAEF,yBACEI,IAAI,0HACJJ,UAAU,UACVQ,IAAI,UACJN,MAAM,MACNC,OAAO,a,uVCdnB,IAAMkB,EAAMC,OAAOC,IAEbC,EAAK,gICEX,SAASC,EAAT,GAA6C,IAAjBC,EAAgB,EAAhBA,aAC1B,OACE,6BACE,wBAAI1B,UAAU,UACZ,0BAAMA,UAAU,aAAhB,oBAEF,mEACE0B,GAAgB,kBAACZ,EAAD,CAAaC,MAAO,IACrCW,KAAiBA,aAAD,EAACA,EAAcR,SAAU,4DACzCQ,aAAA,EAAAA,EAAcR,SAAU,kBAAC,EAAD,CAAUrB,MAAO6B,KAKhD,SAASC,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UACnB,OACE,6BACE,wBAAI5B,UAAU,UACZ,0BAAMA,UAAU,aAAhB,eAEF,0DACE4B,GAAa,kBAACd,EAAD,CAAaC,MAAO,IAClCa,KAAcA,aAAD,EAACA,EAAWV,SAAU,mDACnCU,aAAA,EAAAA,EAAWV,SAAU,kBAAC,EAAD,CAAUrB,MAAO+B,KAK9B,SAASC,IAAY,IAAD,EDjBpB,WAAyB,MAEJC,qBAA3BF,EAF+B,KAEpBG,EAFoB,OAIED,qBAAjCJ,EAJ+B,KAIjBM,EAJiB,KA2CtC,OArCAC,qBAAU,WACRC,MAAMC,+DAAqC,CACzCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAOpB,EAAF,IAOKG,EAGAA,OAOXkB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GAGLX,EAAgBW,EAAIE,KAAKC,cAAcC,aACvChB,EAAaY,EAAIE,KAAKC,cAAclB,cAGrCoB,OAAM,SAACC,GACNC,QAAQC,IAAI,WACZD,QAAQC,IAAIF,QAEf,IACI,CACLrB,YACAF,gBC3BkC0B,GAA5B1B,EADyB,EACzBA,aAAcE,EADW,EACXA,UACtB,OACE,yBAAK5B,UAAU,UACb,wDACA,iEACA,kBAACT,EAAD,KACE,kBAACkC,EAAD,CAAkBC,aAAcA,IAChC,kBAACC,EAAD,CAAWC,UAAWA","file":"component---src-pages-index-js-0f7860dfb49536e931b5.js","sourcesContent":["import styled from 'styled-components'\n\nexport const HomePageGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: repeat(2, minmax(auto, 1fr));\n`\nexport const ItemsGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 1fr 1fr;\n`\n// Single Grid Item(for home page)\n\nexport const ItemStyles = styled.div`\n  text-align: center;\n  position: relative;\n  img {\n    height: auto;\n    font-size: 0;\n  }\n  p {\n    transform: rotate(-2deg) translateY(-140%);\n    position: absolute;\n    width: 100%;\n    left: 0;\n  }\n  .mark {\n    display: inline;\n  }\n  @keyframes shine {\n    from {\n      background-position: 200%;\n    }\n    to {\n      background-position: -40px;\n    }\n  }\n  img.loading {\n    --shine: white;\n    --background: var(--grey);\n    background-image: linear-gradient(90deg, var(--background) 0px, var(--shine) 40px, var(--background) 80px);\n    background-size: 500px;\n    animation: shine 1s infinite linear;\n  }\n`\n","import React from 'react'\nimport { ItemsGrid, ItemStyles } from '../styles/Grids'\n\nconst ItemGrid = ({ items }) => (\n  <ItemsGrid>\n    {items.map((item) => (\n      <ItemStyles>\n        <p>\n          <span className=\"mark\">{item.name}</span>\n        </p>\n        <img\n          width=\"500\"\n          height=\"400\"\n          src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\n          alt=\"{item.name }\"\n          style={{\n            background: `url(${item.image.asset.metadata.lqip})`,\n            backgroundSize: 'cover',\n          }}\n        />\n      </ItemStyles>\n    ))}\n  </ItemsGrid>\n)\n\nexport default ItemGrid\n","import React from 'react'\nimport { ItemsGrid, ItemStyles } from '../styles/Grids'\n\nexport default function LoadingGrid({ count }) {\n  return (\n    <ItemsGrid>\n      {Array.from({ length: count }, (_, i) => (\n        <ItemStyles>\n          <p>\n            <span className=\"mark\">Loading...</span>\n          </p>\n          <img\n            src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAECAQAAADsOj3LAAAADklEQVR42mNkgANGQkwAAJoABWH6GPAAAAAASUVORK5CYII=\"\n            className=\"loading\"\n            alt=\"Loading\"\n            width=\"500\"\n            height=\"400\"\n          />\n        </ItemStyles>\n      ))}\n    </ItemsGrid>\n  )\n}\n","import { useEffect, useState } from 'react'\n\nconst gql = String.raw\n\nconst deets = `\n    name\n    _id\n    image {\n      asset {\n        url\n        metadata {\n          lqip\n        }\n      }\n    }\n`\n\nexport default function useLatestData() {\n  // hot slices\n  const [hotSlices, setHotSlices] = useState()\n  // slicemasters\n  const [slicemasters, setSlicemasters] = useState()\n  // Use a side effect to fetch data from the graphql endpoint\n  useEffect(function () {\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: gql`\n\n\n          query {\n            StoreSettings(id: \"downtown\") {\n              name\n              slicemaster {\n                ${deets}\n              }\n              hotSlices {\n                ${deets}\n              }\n            }\n          }\n        `,\n      }),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        // TODO: check for errors\n        // set the data to state\n        setSlicemasters(res.data.StoreSettings.slicemaster)\n        setHotSlices(res.data.StoreSettings.hotSlices)\n        // when the component loads, fetch the data\n      })\n      .catch((err) => {\n        console.log('SHOOOOT')\n        console.log(err)\n      })\n  }, [])\n  return {\n    hotSlices,\n    slicemasters,\n  }\n}\n","import React from 'react'\nimport ItemGrid from '../components/ItemGrid'\nimport LoadingGrid from '../components/LoadingGrid'\nimport { HomePageGrid } from '../styles/Grids'\nimport useLatestData from '../utils/useLatestData'\n\nfunction CurrentlySlicing({ slicemasters }) {\n  return (\n    <div>\n      <h2 className=\"center\">\n        <span className=\"mark tilt\">Slicemasters On</span>\n      </h2>\n      <p>Standing by, ready to slice you up!</p>\n      {!slicemasters && <LoadingGrid count={4} />}\n      {slicemasters && !slicemasters?.length && <p>No one is working right now!</p>}\n      {slicemasters?.length && <ItemGrid items={slicemasters} />}\n    </div>\n  )\n}\n\nfunction HotSlices({ hotSlices }) {\n  return (\n    <div>\n      <h2 className=\"center\">\n        <span className=\"mark tilt\">Hot Slices</span>\n      </h2>\n      <p>Come on by, buy the slice!</p>\n      {!hotSlices && <LoadingGrid count={4} />}\n      {hotSlices && !hotSlices?.length && <p>Nothin' in the case</p>}\n      {hotSlices?.length && <ItemGrid items={hotSlices} />}\n    </div>\n  )\n}\n\nexport default function HomePage() {\n  const { slicemasters, hotSlices } = useLatestData()\n  return (\n    <div className=\"center\">\n      <h1>The Best Pizza Downtown!</h1>\n      <p>Open 11am to 11pm Every Single Day</p>\n      <HomePageGrid>\n        <CurrentlySlicing slicemasters={slicemasters} />\n        <HotSlices hotSlices={hotSlices} />\n      </HomePageGrid>\n    </div>\n  )\n}\n"],"sourceRoot":""}